TW.Runtime.Widgets.infotableselectionhelper=function(){var a=this,f,g=[];this.runtimeProperties=function(){return{needsDataLoadingAndError:!1}};this.renderHtml=function(){return'<div class="widget-content widget-infotableselectionhelper" style="display:none;"></div>'};this.serviceInvoked=function(b){var e=a.getProperty("infotable");e&&e.rows&&("SelectFirst"===b?(a.updateSelection("infotable",[0]),this.checkSelectedRows([0])):"SelectNext"===b&&f<e.rows.length-1?(a.updateSelection("infotable",[f+1]),
this.checkSelectedRows([f+1])):"SelectPrevious"===b&0<f?(a.updateSelection("infotable",[f-1]),this.checkSelectedRows([f-1])):"DeselectAll"===b?(a.updateSelection("infotable",[]),this.checkSelectedRows([])):"SelectAll"===b&&(b=[...e.rows.keys()],a.updateSelection("infotable",b),this.checkSelectedRows(b)))};this.handleSelectionUpdate=function(b,e,c){"infotable"===b&&(a.getProperty("simplifiedMultipleSelection")&&(0<g.filter(a=>c.includes(a)).length?c=g.filter((a,b)=>-1===c.indexOf(a)):(c=g.concat(c).sort(),
c=c.filter((a,b)=>c.indexOf(a)===b)),a.updateSelection("infotable",c)),this.checkSelectedRows(c))};this.updateProperty=function(b){if("infotable"===b.TargetProperty){this.setProperty("infotable",b.RawSinglePropertyValue);var e=a.getProperty("infotable");a.getProperty("debugMode")&&(console.log("InfotableSelectionHelper - infotable = "),console.log(e));setTimeout(()=>a.updateSelection("infotable",b.SelectedRowIndices),100);this.checkSelectedRows(b.SelectedRowIndices)}else"value"===b.TargetProperty&&
this.setProperty("value",b.RawSinglePropertyValue)};this.checkSelectedRows=function(b){var e=a.getProperty("debugMode"),c=a.getProperty("value");if(b&&0<b.length){var d=b.length;f=b[0];g=b}else d=0,f=null,g=[];a.setProperty("eqZero",0===d);a.setProperty("eqOne",1===d);a.setProperty("gtZero",0<d);a.setProperty("gtOne",1<d);a.setProperty("eqValue",d===c);a.setProperty("gtValue",d>c);a.setProperty("ltValue",d<c);e&&console.log("InfotableSelectionHelper - rowCount = "+d);0===d&&a.jqElement.triggerHandler("EqZero");
1===d&&a.jqElement.triggerHandler("EqOne");0<d&&a.jqElement.triggerHandler("GtZero");1<d&&a.jqElement.triggerHandler("GtOne");d===c&&a.jqElement.triggerHandler("EqValue");d>c&&a.jqElement.triggerHandler("GtValue");d<c&&a.jqElement.triggerHandler("LtValue")}};